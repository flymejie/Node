# 正则

扩充字符串功能

JS内置对象

regular express 

```	
正则表达式是由一个字符序列形成的搜索模式。
当你在文本中搜索数据时，你可以用搜索模式来描述你要查询的内容。
正则表达式可以是一个简单的字符，或一个更复杂的模式。
正则表达式可用于所有文本搜索和文本替换的操作。
```

```
汉字：/[\u4e00-\u9fa5]+$/
```



```
使用字符串方法
在 JavaScript 中，正则表达式通常用于两个字符串方法 : search() 和 replace()。

search() 方法 用于检索字符串中指定的子字符串，或检索与正则表达式相匹配的子字符串，并返回子字符串的起始位置。

replace() 方法 用于在字符串中用一些字符替换另一些字符，或替换一个与正则表达式匹配的子字符串。
```



模式修饰符

```javascript
g: 全局修饰符
i:忽略大小写
（\n :换行）
/m : 多行模式
可以进行组合 /javascript/igm ;
```



``` javascript
创建一个正则对象  
let regexp = new RegExp('ab','g');（规则,'g'模式修正符）
let regexp = /ab/g; ab不加引号;
let regexp = /[0-9a-zA-Z_]/;[]字符类；-连字符;
let regexp = /[^0-9]/; ^非 ，取反，除了；^元字符
let regexp = /^[0-9]/; ^开始
test()
test()方法搜索字符串指定的值，根据结果并返回真或假。

exec()
exec() 方法检索字符串中的指定值。返回值是被找到的值。如果没有发现匹配，则返回 null。


量词：{};    ? ={0,1};    + = {1,};    * = {0,};
let regexp = /\d{2}/g; \转义字符；{}量词，代表前面出现的次数；
let regexp = /\d{6,8}/g; 匹配6-8位数字；
let regexp = /\d{6,}/g; 最少是6位，无上限；


let regexp = /-?[1-9]\d*/;非零
let regexp = /[1-9]\d{4,10}/; qq号
let regexp = /机器|我的/g;  |或 
/a.*b/; .任意；


```

```javascript
/\d/ :匹配数字；
/\D/ :
```

```javascript
字符串方法：

```

```
常用正则表达式：
用户名：/^[a-z0-9_-]{3,16}$/  
密码：/^[a-z0-9_-]{6,18}$/  
十六进制值：/^#?([a-f0-9]{6}|[a-f0-9]{3})$/  
电子邮箱：/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/  URL：/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/ 
IP 地址： /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/ 
HTML 标签：/^<([a-z]+)([^<]+)*(?:>(.*)<\/\1>|\s+\/>)$/ 
Unicode编码中的汉字范围：/^[u4e00-u9fa5],{0,}$/ 
匹配中文字符的正则表达式： [\u4e00-\u9fa5]
匹配Email地址的正则表达式：\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)* 
URL：//
```

贪婪匹配

```javascript
/a.*b/;   .任意 会匹配所有的 

```

非贪婪

```javascript
/a.*?b/;
```

部分匹配原则

边界

```javascript
边界限定符 : ^ 开头；  $ 结尾;
reg = /^[a-zA-Z][A-Za-z1-6]{0-7}$/
reg = /java\b/
```

重复 捕获 分组

```javascript
/(\d{3}){3}/ ; 重复三次
/(java)(script) /
    reg = /<(\w{1,8})>([^<]*)<\/\w{1,8}>/
reg = /<(\w{1,8})>([^<]*)<\/\1>/; 引用第一种
reg = /<(?:\w{1,8})>([^<]*)<\/\1>/: 取消引用；
():分组匹配

```



### 1、定义正则表达式

```
1.1、普通方式：
	let reg = /表达式/附加参数；
	表达式：一个字符串，代表了某种规则；
	附加参数:用来扩展表达式的含义：
		g:全局匹配
		i:不区分大小写匹配
		m:可以进行多行匹配
1.2、构造函数
	let reg = new RegExp('表达式','附加参数')；
1.3、两种方式的区别：
	普通方式的表达式是一个常量，构造函数的表达式可以是一个常量也可以是一个变量；
```

### 2、表达式方法

```
test() 方法用于检测一个字符串是否匹配某个模式，如果字符串中含有匹配		的文本，则返回 true，否则返回 false。

exec() 方法用于检索字符串中的正则表达式的匹配。
	该函数返回一个数组，其中存放匹配的结果。如果未找到匹配，则返回		值为 null。

```

### 3、正则表达式修饰符

```
g:执行全局匹配
i:执行对大小写不敏感的匹配
m:执行多行匹配
```

### 4、元字符

```
元字符是拥有特殊含义的字符；
\d:匹配数字
\D:匹配非数字
\w:匹配字母
\W:匹配非字母
\s:空格   ^\s* :开头的空格    \s*$ :结尾的空格  /^\s*|\s*$/g ;所有

```

### 5、量词 限定符

```
{2}:匹配前面出现的次数；
{1,3}：匹配1到3位数字；
{2，}：匹配2位以上的数字，最少是2位，无上限；
? ={0,1};    
+ = {1,};    
* = {0,};
{n}: 重复N次          {n,}: 重复N次或更多次     {n,m}: 重复N到M次
* :重复0次或更多次     +:重复一次或更多次        ?:重复0次或一次
```

### 6、边界限定符

```
^:行首匹配；
$:行尾匹配；
\b:单词边界；
\B:非单词边界；
```

### 7、重复、捕获、分组

```

```

### 8、转义字符

```
\;
```

### 9、贪婪匹配

```
/a.*b/;   .任意 会匹配所有的 

```

### 10、非贪婪匹配

```
/a.*?b/;
```

### 11、正则表达式优先级顺序

```
1、\ :转义符
2、(),(?:),(?=),[]:圆括号和方括号
3、*,+,?,{n},{n,},{n,m}: 限定符
4、^,$,\ : 元字符；
5、| : “或”操作
```



# 正则验证

```javascript
html 页面表单中添加自定义属性：data-validate="required:'必填项'; username=''";
js 给所有需要添加验证的表单元素添加on事件 ，blur失去焦点

$()



```





# 正则总结

### **正则表达式中的特殊字符**

```javascript
\ 做为转意，即通常在"\"后面的字符不按原来意义解释，如/b/匹配字符"b"，当b前面加了反斜杆后/\b/，转意为匹配一个单词的边界。 
-或- 
对正则表达式功能字符的还原，如"*"匹配它前面元字符0次或多次，/a*/将匹配a,aa,aaa，加了"\"后，/a\*/将只匹配"a*"。 

^ 匹配一个输入或一行的开头，/^a/匹配"an A"，而不匹配"An a" 
$ 匹配一个输入或一行的结尾，/a$/匹配"An a"，而不匹配"an A" 
* 匹配前面元字符0次或多次，/ba*/将匹配b,ba,baa,baaa 
+ 匹配前面元字符1次或多次，/ba*/将匹配ba,baa,baaa 
? 匹配前面元字符0次或1次，/ba*/将匹配b,ba 
(x) 匹配x保存x在名为$1...$9的变量中 
x|y 匹配x或y 
{n} 精确匹配n次 
{n,} 匹配n次以上 
{n,m} 匹配n-m次 
[xyz] 字符集(character set)，匹配这个集合中的任一一个字符(或元字符) 
[^xyz] 不匹配这个集合中的任何一个字符 
[\b] 匹配一个退格符 
\b 匹配一个单词的边界 
\B 匹配一个单词的非边界 
\cX 这儿，X是一个控制符，/\cM/匹配Ctrl-M 
\d 匹配一个字数字符，/\d/ = /[0-9]/ 
\D 匹配一个非字数字符，/\D/ = /[^0-9]/ 
\n 匹配一个换行符 
\r 匹配一个回车符 
\s 匹配一个空白字符，包括\n,\r,\f,\t,\v等 
\S 匹配一个非空白字符，等于/[^\n\f\r\t\v]/ 
\t 匹配一个制表符 
\v 匹配一个重直制表符 
\w 匹配一个可以组成单词的字符(alphanumeric，这是我的意译，含数字)，包括下划线，如[\w]匹配"$5.98"中的5，等于[a-zA-Z0-9] 
\W 匹配一个不可以组成单词的字符，如[\W]匹配"$5.98"中的$，等于[^a-zA-Z0-9]。


```

